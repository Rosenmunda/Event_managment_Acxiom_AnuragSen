<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Event Management System</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
</head>
<body>

<div id="screen-landing" class="screen active">
  <nav class="topnav">
    <div class="logo">Event<span>MS</span></div>
  </nav>
  <div class="hero">
    <h1>Event Management<br>System</h1>
    <p>A unified platform for users, vendors, and administrators.</p>
  </div>
  <div class="role-cards">
    <div class="role-card" style="--hover-color:#7c6fcd" onclick="navigate('screen-user-login')">
      <div class="icon">ğŸŸï¸</div><h3>User</h3>
    </div>
    <div class="role-card" style="--hover-color:#e85d8a" onclick="navigate('screen-vendor-login')">
      <div class="icon">ğŸª</div><h3>Vendor</h3>
    </div>
    <div class="role-card" style="--hover-color:#3ecfb2" onclick="navigate('screen-admin-login')">
      <div class="icon">ğŸ›¡ï¸</div><h3>Admin</h3>
    </div>
  </div>
</div>

<div id="screen-user-login" class="screen">
  <nav class="topnav"><div class="logo">Event<span>MS</span></div><div class="nav-actions"><button class="btn-ghost" onclick="navigate('screen-landing')">Back</button><button class="btn-ghost" onclick="navigate('screen-user-signup')">Sign Up</button></div></nav>
  <div class="page-body center"><div class="auth-box"><div class="auth-brand">User Portal</div><h1>Welcome Back</h1><div id="user-login-err" class="alert alert-error" style="display:none"></div><div class="form-group"><label>Email</label><input class="form-control" id="ul-email" type="email" placeholder="alice@mail.com"></div><div class="form-group"><label>Password</label><input class="form-control" id="ul-pass" type="password" placeholder="pass123"></div><button class="btn btn-primary btn-full" onclick="userLogin()">Login</button></div></div>
</div>

<div id="screen-user-signup" class="screen">
  <nav class="topnav"><div class="logo">Event<span>MS</span></div><div class="nav-actions"><button class="btn-ghost" onclick="navigate('screen-user-login')">Login</button></div></nav>
  <div class="page-body center"><div class="auth-box"><div class="auth-brand">Create Account</div><h1>Join EventMS</h1><div id="user-reg-err" class="alert alert-error" style="display:none"></div><div class="grid-2"><div class="form-group"><label>Name</label><input class="form-control" id="ur-name"></div><div class="form-group"><label>Email</label><input class="form-control" id="ur-email"></div></div><div class="form-group"><label>Password</label><input class="form-control" id="ur-pass" type="password"></div><div class="form-group"><label>Address</label><input class="form-control" id="ur-addr"></div><div class="form-group"><label>City</label><input class="form-control" id="ur-city"></div><button class="btn btn-primary btn-full" onclick="userSignup()">Create Account</button></div></div>
</div>

<div id="screen-vendor-login" class="screen">
  <nav class="topnav"><div class="logo">Event<span>MS</span></div><div class="nav-actions"><button class="btn-ghost" onclick="navigate('screen-landing')">Back</button><button class="btn-ghost" onclick="navigate('screen-vendor-signup')">Sign Up</button></div></nav>
  <div class="page-body center"><div class="auth-box"><div class="auth-brand" style="color:var(--accent2)">Vendor Portal</div><h1>Vendor Login</h1><div id="vendor-login-err" class="alert alert-error" style="display:none"></div><div class="form-group"><label>Email</label><input class="form-control" id="vl-email" placeholder="tech@baz.com"></div><div class="form-group"><label>Password</label><input class="form-control" id="vl-pass" type="password" placeholder="pass123"></div><button class="btn btn-primary btn-full" onclick="vendorLogin()">Login</button></div></div>
</div>

<div id="screen-vendor-signup" class="screen">
  <nav class="topnav"><div class="logo">Event<span>MS</span></div><div class="nav-actions"><button class="btn-ghost" onclick="navigate('screen-vendor-login')">Login</button></div></nav>
  <div class="page-body center"><div class="auth-box"><div class="auth-brand" style="color:var(--accent2)">Register Vendor</div><h1>Start Selling</h1><div id="vendor-reg-err" class="alert alert-error" style="display:none"></div><div class="form-group"><label>Business Name</label><input class="form-control" id="vr-name"></div><div class="form-group"><label>Email</label><input class="form-control" id="vr-email"></div><div class="form-group"><label>Password</label><input class="form-control" id="vr-pass" type="password"></div><div class="form-group"><label>Contact</label><input class="form-control" id="vr-phone"></div><div class="form-group"><label>Address</label><input class="form-control" id="vr-addr"></div><button class="btn btn-primary btn-full" onclick="vendorSignup()">Register</button></div></div>
</div>

<div id="screen-admin-login" class="screen">
  <nav class="topnav"><div class="logo">Event<span>MS</span></div><div class="nav-actions"><button class="btn-ghost" onclick="navigate('screen-landing')">Back</button></div></nav>
  <div class="page-body center"><div class="auth-box"><div class="auth-brand" style="color:var(--accent3)">Admin Panel</div><h1>Admin Login</h1><div id="admin-login-err" class="alert alert-error" style="display:none"></div><div class="form-group"><label>Email</label><input class="form-control" id="al-email" placeholder="admin@ems.com"></div><div class="form-group"><label>Password</label><input class="form-control" id="al-pass" type="password" placeholder="admin123"></div><button class="btn btn-primary btn-full" onclick="adminLogin()">Login</button></div></div>
</div>

<div id="screen-user-portal" class="screen">
  <nav class="topnav">
    <div class="logo">Event<span>MS</span></div>
    <div class="nav-actions">
      <button class="btn-nav" onclick="navigate('screen-user-portal')">ğŸ  Home</button>
      <button class="btn-nav" onclick="navigate('screen-products')">ğŸ› Vendors</button>
      <button class="btn-nav" onclick="navigate('screen-guest-list')">ğŸ‘¥ Guests</button> 
      <button class="btn-nav" onclick="showCart()">ğŸ›’ Cart <span id="cart-badge"></span></button>
      <button class="btn-nav" onclick="navigate('screen-order-status')">ğŸ“¦ Orders</button>
      <button class="btn-nav" onclick="navigate('screen-request-item')">ğŸ“‹ Requests</button>
      <button class="btn-ghost" onclick="logout()">Log Out</button>
    </div>
  </nav>
  <div class="page-body wide">
    <div class="card" style="background:linear-gradient(135deg,var(--surface) 60%,rgba(124,111,205,.1))">
      <h1 id="user-welcome">Welcome ğŸ‰</h1>
      <p class="subtext">Explore vendors, add items to cart, and manage your event orders.</p>
      <div class="btn-group">
        <button class="btn btn-primary" onclick="navigate('screen-products')">Browse Vendors</button>
        <button class="btn btn-secondary" onclick="showCart()">View Cart</button>
      </div>
    </div>
    <div class="stat-grid" id="user-stats"></div>
    <h2>Recently Added Products</h2>
    <div class="product-grid" id="user-product-preview"></div>
  </div>
</div>

<div id="screen-guest-list" class="screen">
  <nav class="topnav"><div class="logo">Event<span>MS</span></div><div class="nav-actions"><button class="btn-nav" onclick="navigate('screen-user-portal')">ğŸ  Home</button><button class="btn-ghost" onclick="logout()">Log Out</button></div></nav>
  <div class="page-body">
    <h1>Guest List</h1>
    <p class="subtext">Manage your event invitees and their status.</p>
    <div class="card">
      <h3>Add New Guest</h3>
      <div class="grid-2">
        <div class="form-group"><label>Name</label><input class="form-control" id="guest-name" placeholder="Guest Name"></div>
        <div class="form-group"><label>Contact</label><input class="form-control" id="guest-contact" placeholder="Contact / Email"></div>
      </div>
      <button class="btn btn-primary" onclick="addGuest()">+ Add to List</button>
    </div>
    <h3 style="margin-top:24px">My Guests</h3>
    <div id="guest-list-container"></div>
  </div>
</div>

<div id="screen-products" class="screen">
  <nav class="topnav"><div class="logo">Event<span>MS</span></div><div class="nav-actions"><button class="btn-nav" onclick="navigate('screen-user-portal')">ğŸ  Home</button><button class="btn-nav" onclick="showCart()">ğŸ›’ Cart <span id="cart-badge2"></span></button><button class="btn-ghost" onclick="logout()">Log Out</button></div></nav>
  <div class="page-body wide"><h1>Browse Products</h1><p class="subtext">Select items from our verified vendors.</p><div class="tabs" id="vendor-tabs"></div><div class="search-bar"><span class="search-icon">ğŸ”</span><input placeholder="Search products..." id="product-search" oninput="renderProductsGrid()"></div><div class="product-grid" id="products-grid"></div></div>
</div>

<div id="screen-cart" class="screen">
  <nav class="topnav"><div class="logo">Event<span>MS</span></div><div class="nav-actions"><button class="btn-nav" onclick="navigate('screen-products')">â† Shop</button><button class="btn-ghost" onclick="logout()">Log Out</button></div></nav>
  <div class="page-body"><h1>Shopping Cart</h1><div id="cart-items-container"></div><div class="card" id="cart-footer" style="display:none"><div class="cart-total-row"><div><div class="cart-total-label">Grand Total</div><div class="cart-total-value" id="cart-grand-total"></div></div><button class="btn btn-primary" onclick="navigate('screen-checkout'); renderCheckout()">Checkout â†’</button></div></div></div>
</div>

<div id="screen-checkout" class="screen">
  <nav class="topnav"><div class="logo">Event<span>MS</span></div><div class="nav-actions"><button class="btn-nav" onclick="navigate('screen-cart')">â† Back</button></div></nav>
  <div class="page-body"><h1>Checkout</h1><div class="checkout-grid"><div><div class="card"><h3>Details</h3><div id="checkout-err" class="alert alert-error" style="display:none"></div><div class="form-group"><label>Name</label><input class="form-control" id="co-name"></div><div class="form-group"><label>Email</label><input class="form-control" id="co-email"></div><div class="form-group"><label>Address</label><textarea class="form-control" id="co-address"></textarea></div><div class="form-group"><label>Phone</label><input class="form-control" id="co-phone"></div></div><div class="card"><h3>Payment</h3><select class="form-control" id="co-payment"><option value="upi">UPI / QR</option><option value="cash">Cash on Delivery</option></select></div></div><div><div class="card"><h3>Summary</h3><div id="checkout-summary"></div><button class="btn btn-success btn-full" style="margin-top:18px" onclick="placeOrder()">Place Order</button></div></div></div></div>
</div>

<div id="screen-order-status" class="screen">
  <nav class="topnav"><div class="logo">Event<span>MS</span></div><div class="nav-actions"><button class="btn-nav" onclick="navigate('screen-user-portal')">ğŸ  Home</button><button class="btn-ghost" onclick="logout()">Log Out</button></div></nav>
  <div class="page-body"><h1>My Orders</h1><div id="order-status-list"></div></div>
</div>

<div id="screen-request-item" class="screen">
  <nav class="topnav"><div class="logo">Event<span>MS</span></div><div class="nav-actions"><button class="btn-nav" onclick="navigate('screen-user-portal')">ğŸ  Home</button><button class="btn-ghost" onclick="logout()">Log Out</button></div></nav>
  <div class="page-body"><h1>Request Item</h1><div class="card"><div id="req-ok" class="alert alert-success" style="display:none">Sent!</div><div class="form-group"><label>Item</label><input class="form-control" id="req-name"></div><div class="form-group"><label>Description</label><textarea class="form-control" id="req-desc"></textarea></div><div class="form-group"><label>Vendor (Optional)</label><select class="form-control" id="req-vendor"><option value="">Any</option></select></div><div class="form-group"><label>Needed By</label><input class="form-control" type="date" id="req-date"></div><button class="btn btn-primary" onclick="submitRequest()">Submit</button></div><h2>My Requests</h2><div id="my-requests-list"></div></div>
</div>

<div id="screen-vendor-dash" class="screen">
  <nav class="topnav"><div class="logo">Event<span>MS</span></div><div class="nav-actions"><button class="btn-nav" onclick="navigate('screen-vendor-dash')">ğŸ  Home</button><button class="btn-nav" onclick="navigate('screen-vendor-products')">ğŸ“¦ Products</button><button class="btn-nav" onclick="navigate('screen-vendor-orders')">ğŸ§¾ Orders</button><button class="btn-ghost" onclick="logout()">Log Out</button></div></nav>
  <div class="page-body"><h1 id="vendor-welcome">Welcome</h1><p class="subtext">Vendor Dashboard</p><div class="stat-grid" id="vendor-stats"></div><div class="btn-group"><button class="btn btn-primary" onclick="navigate('screen-add-product')">+ Add Product</button><button class="btn btn-secondary" onclick="navigate('screen-vendor-orders')">View Orders</button></div></div>
</div>

<div id="screen-vendor-products" class="screen">
  <nav class="topnav"><div class="logo">Event<span>MS</span></div><div class="nav-actions"><button class="btn-nav" onclick="navigate('screen-vendor-dash')">ğŸ  Home</button><button class="btn-ghost" onclick="logout()">Log Out</button></div></nav>
  <div class="page-body"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:24px"><h1>Your Products</h1><button class="btn btn-primary" onclick="navigate('screen-add-product')">+ Add</button></div><div id="vendor-product-list"></div></div>
</div>

<div id="screen-add-product" class="screen">
  <nav class="topnav"><div class="logo">Event<span>MS</span></div><div class="nav-actions"><button class="btn-nav" onclick="navigate('screen-vendor-products'); fetchVendorProducts()">Back</button></div></nav>
  <div class="page-body"><h1 id="add-prod-title">Add Product</h1><div class="card" style="max-width:560px"><input type="hidden" id="edit-product-id"><div id="add-prod-err" class="alert alert-error" style="display:none"></div><div class="form-group"><label>Name</label><input class="form-control" id="ap-name"></div><div class="form-group"><label>Price</label><input class="form-control" id="ap-price" type="number"></div><div class="form-group"><label>Category</label><select class="form-control" id="ap-category"><option>Lighting</option><option>Audio</option><option>Decor</option><option>Entertainment</option></select></div><div class="form-group"><label>Emoji</label><input class="form-control" id="ap-image" placeholder="e.g. ğŸ™ï¸"></div><div class="btn-group"><button class="btn btn-primary" onclick="saveProduct()">Save</button><button class="btn btn-secondary" onclick="navigate('screen-vendor-products'); fetchVendorProducts()">Cancel</button></div></div></div>
</div>

<div id="screen-vendor-orders" class="screen">
  <nav class="topnav"><div class="logo">Event<span>MS</span></div><div class="nav-actions"><button class="btn-nav" onclick="navigate('screen-vendor-dash')">ğŸ  Home</button><button class="btn-ghost" onclick="logout()">Log Out</button></div></nav>
  <div class="page-body wide"><h1>Orders</h1><div id="vendor-orders-table"></div></div>
</div>

<div id="screen-admin-dash" class="screen">
  <nav class="topnav"><div class="logo">Event<span>MS</span></div><div class="nav-actions"><button class="btn-nav" onclick="navigate('screen-admin-dash')">ğŸ  Home</button><button class="btn-nav" onclick="navigate('screen-maintain-users')">ğŸ‘¥ Users</button><button class="btn-nav" onclick="navigate('screen-maintain-vendors')">ğŸª Vendors</button><button class="btn-nav" onclick="navigate('screen-admin-orders')">ğŸ“¦ Orders</button><button class="btn-ghost" onclick="logout()">Log Out</button></div></nav>
  <div class="page-body"><h1>Admin Dashboard</h1><div class="stat-grid" id="admin-stats"></div><div class="grid-2"><div class="card" style="cursor:pointer" onclick="navigate('screen-maintain-users')"><h3>ğŸ‘¥ Manage Users</h3><p>Toggle Active Status</p></div><div class="card" style="cursor:pointer" onclick="navigate('screen-maintain-vendors')"><h3>ğŸª Manage Vendors</h3><p>Memberships & Status</p></div></div></div>
</div>

<div id="screen-maintain-users" class="screen">
  <nav class="topnav"><div class="logo">Event<span>MS</span></div><div class="nav-actions"><button class="btn-nav" onclick="navigate('screen-admin-dash')">ğŸ  Home</button><button class="btn-ghost" onclick="logout()">Log Out</button></div></nav>
  <div class="page-body wide"><h1>Manage Users</h1><div class="table-wrapper" id="users-table"></div></div>
</div>

<div id="screen-maintain-vendors" class="screen">
  <nav class="topnav"><div class="logo">Event<span>MS</span></div><div class="nav-actions"><button class="btn-nav" onclick="navigate('screen-admin-dash')">ğŸ  Home</button><button class="btn-ghost" onclick="logout()">Log Out</button></div></nav>
  <div class="page-body wide"><h1>Manage Vendors</h1><div class="table-wrapper" id="vendors-table"></div></div>
</div>

<div id="screen-admin-orders" class="screen">
  <nav class="topnav"><div class="logo">Event<span>MS</span></div><div class="nav-actions"><button class="btn-nav" onclick="navigate('screen-admin-dash')">ğŸ  Home</button><button class="btn-ghost" onclick="logout()">Log Out</button></div></nav>
  <div class="page-body wide"><h1>All Orders</h1><div class="table-wrapper" id="admin-orders-table"></div></div>
</div>

<div id="success-popup" class="popup-overlay" style="display:none">
  <div class="popup-box"><div class="popup-icon">ğŸ‰</div><h2>Success!</h2><p>Action completed successfully.</p><div style="margin-bottom:14px"><div id="popup-total" style="font-weight:800;font-size:2rem"></div></div><button class="btn btn-primary" onclick="closeSuccess()">OK</button></div>
</div>

<script src="script.js"></script>
</body>
</html>