<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Event Management System</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
</head>
<body>

<div id="screen-landing" class="screen active">
  <nav class="topnav">
    <div class="logo">Event<span>MS</span></div>
  </nav>
  <div class="hero">
    <h1>Event Management<br>System</h1>
    <p>A unified platform for users, vendors, and administrators to manage technical events seamlessly.</p>
  </div>
  <div class="role-cards">
    <div class="role-card" style="--hover-color:#7c6fcd" onclick="navigate('screen-user-login')">
      <div class="icon">ğŸŸï¸</div>
      <h3>User</h3>
      <p>Browse products, place orders, track status</p>
    </div>
    <div class="role-card" style="--hover-color:#e85d8a" onclick="navigate('screen-vendor-login')">
      <div class="icon">ğŸª</div>
      <h3>Vendor</h3>
      <p>Manage products, view transactions</p>
    </div>
    <div class="role-card" style="--hover-color:#3ecfb2" onclick="navigate('screen-admin-login')">
      <div class="icon">ğŸ›¡ï¸</div>
      <h3>Admin</h3>
      <p>Oversee users, vendors, and system</p>
    </div>
  </div>
</div>

<div id="screen-user-login" class="screen">
  <nav class="topnav">
    <div class="logo">Event<span>MS</span></div>
    <div class="nav-actions">
      <button class="btn-ghost" onclick="navigate('screen-landing')">â† Back</button>
      <button class="btn-ghost" onclick="navigate('screen-user-signup')">Sign Up</button>
    </div>
  </nav>
  <div class="page-body center">
    <div class="auth-box">
      <div class="auth-brand">User Portal</div>
      <h1>Welcome Back</h1>
      <p class="subtext">Sign in to browse vendors and manage orders.</p>
      <div id="user-login-err" class="alert alert-error" style="display:none"></div>
      <div class="form-group"><label>Email</label><input class="form-control" id="ul-email" type="email" placeholder="you@email.com" value="alice@mail.com"></div>
      <div class="form-group"><label>Password</label><input class="form-control" id="ul-pass" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" value="pass123"></div>
      <button class="btn btn-primary btn-full" onclick="userLogin()">Login</button>
      <div class="divider"></div>
      <p style="color:var(--text-dim);font-size:.85rem;text-align:center">Don't have an account? <span style="color:var(--accent);cursor:pointer" onclick="navigate('screen-user-signup')">Sign Up</span></p>
    </div>
  </div>
</div>

<div id="screen-user-signup" class="screen">
  <nav class="topnav">
    <div class="logo">Event<span>MS</span></div>
    <div class="nav-actions">
      <button class="btn-ghost" onclick="navigate('screen-user-login')">â† Login</button>
    </div>
  </nav>
  <div class="page-body center">
    <div class="auth-box">
      <div class="auth-brand">Create Account</div>
      <h1>Join EventMS</h1>
      <p class="subtext">Create your user account to get started.</p>
      <div id="user-reg-err" class="alert alert-error" style="display:none"></div>
      <div class="grid-2">
        <div class="form-group"><label>Full Name</label><input class="form-control" id="ur-name" placeholder="Your Name"></div>
        <div class="form-group"><label>Email</label><input class="form-control" id="ur-email" type="email" placeholder="you@email.com"></div>
      </div>
      <div class="form-group"><label>Password</label><input class="form-control" id="ur-pass" type="password" placeholder="Minimum 6 characters"></div>
      <div class="form-group"><label>Address</label><input class="form-control" id="ur-addr" placeholder="Full address"></div>
      <div class="form-group"><label>City</label><input class="form-control" id="ur-city" placeholder="City"></div>
      <button class="btn btn-primary btn-full" onclick="userSignup()">Create Account</button>
    </div>
  </div>
</div>

<div id="screen-vendor-login" class="screen">
  <nav class="topnav">
    <div class="logo">Event<span>MS</span></div>
    <div class="nav-actions">
      <button class="btn-ghost" onclick="navigate('screen-landing')">â† Back</button>
      <button class="btn-ghost" onclick="navigate('screen-vendor-signup')">Sign Up</button>
    </div>
  </nav>
  <div class="page-body center">
    <div class="auth-box">
      <div class="auth-brand" style="color:var(--accent2)">Vendor Portal</div>
      <h1>Vendor Login</h1>
      <p class="subtext">Access your vendor dashboard to manage products.</p>
      <div id="vendor-login-err" class="alert alert-error" style="display:none"></div>
      <div class="form-group"><label>Email</label><input class="form-control" id="vl-email" type="email" placeholder="vendor@email.com" value="tech@baz.com"></div>
      <div class="form-group"><label>Password</label><input class="form-control" id="vl-pass" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" value="pass123"></div>
      <button class="btn btn-primary btn-full" onclick="vendorLogin()">Login as Vendor</button>
      <div class="divider"></div>
      <p style="color:var(--text-dim);font-size:.85rem;text-align:center">New vendor? <span style="color:var(--accent);cursor:pointer" onclick="navigate('screen-vendor-signup')">Register</span></p>
    </div>
  </div>
</div>

<div id="screen-vendor-signup" class="screen">
  <nav class="topnav">
    <div class="logo">Event<span>MS</span></div>
    <div class="nav-actions"><button class="btn-ghost" onclick="navigate('screen-vendor-login')">â† Login</button></div>
  </nav>
  <div class="page-body center">
    <div class="auth-box">
      <div class="auth-brand" style="color:var(--accent2)">Vendor Registration</div>
      <h1>Register as Vendor</h1>
      <p class="subtext">Create your vendor account to list products.</p>
      <div id="vendor-reg-err" class="alert alert-error" style="display:none"></div>
      <div class="form-group"><label>Vendor / Business Name</label><input class="form-control" id="vr-name" placeholder="Business Name"></div>
      <div class="form-group"><label>Email</label><input class="form-control" id="vr-email" type="email" placeholder="business@email.com"></div>
      <div class="form-group"><label>Password</label><input class="form-control" id="vr-pass" type="password" placeholder="Minimum 6 characters"></div>
      <div class="form-group"><label>Contact Number</label><input class="form-control" id="vr-phone" placeholder="10-digit number"></div>
      <div class="form-group"><label>Address</label><input class="form-control" id="vr-addr" placeholder="Business address"></div>
      <button class="btn btn-primary btn-full" onclick="vendorSignup()">Register Vendor</button>
    </div>
  </div>
</div>

<div id="screen-admin-login" class="screen">
  <nav class="topnav">
    <div class="logo">Event<span>MS</span></div>
    <div class="nav-actions"><button class="btn-ghost" onclick="navigate('screen-landing')">â† Back</button></div>
  </nav>
  <div class="page-body center">
    <div class="auth-box">
      <div class="auth-brand" style="color:var(--accent3)">Admin Panel</div>
      <h1>Admin Login</h1>
      <p class="subtext">Restricted access. Authorised personnel only.</p>
      <div id="admin-login-err" class="alert alert-error" style="display:none"></div>
      <div class="form-group"><label>Email</label><input class="form-control" id="al-email" type="email" placeholder="admin@ems.com" value="admin@ems.com"></div>
      <div class="form-group"><label>Password</label><input class="form-control" id="al-pass" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" value="admin123"></div>
      <button class="btn btn-primary btn-full" onclick="adminLogin()">Login as Admin</button>
    </div>
  </div>
</div>

<div id="screen-user-portal" class="screen">
  <nav class="topnav">
    <div class="logo">Event<span>MS</span></div>
    <div class="nav-actions">
      <button class="btn-nav" onclick="navigate('screen-user-portal')">ğŸ  Home</button>
      <button class="btn-nav" onclick="navigate('screen-products')">ğŸ› Vendors</button>
      <button class="btn-nav" onclick="navigate('screen-guest-list')">ğŸ‘¥ Guests</button>
      <button class="btn-nav" onclick="showCart()">ğŸ›’ Cart <span id="cart-badge" style="background:var(--accent);color:#fff;border-radius:10px;padding:1px 7px;font-size:.75rem"></span></button>
      <button class="btn-nav" onclick="navigate('screen-order-status')">ğŸ“¦ Orders</button>
      <button class="btn-nav" onclick="navigate('screen-request-item')">ğŸ“‹ Requests</button>
      <button class="btn-ghost" onclick="logout()">Log Out</button>
    </div>
  </nav>
  <div class="page-body wide">
    <div class="card" style="background:linear-gradient(135deg,var(--surface) 60%,rgba(124,111,205,.1))">
      <h1 id="user-welcome">Welcome ğŸ‰</h1>
      <p class="subtext">Explore vendors, add items to cart, and manage your event orders.</p>
      <div class="btn-group">
        <button class="btn btn-primary" onclick="navigate('screen-products')">Browse Vendors</button>
        <button class="btn btn-secondary" onclick="showCart()">View Cart</button>
        <button class="btn btn-secondary" onclick="navigate('screen-order-status')">My Orders</button>
      </div>
    </div>
    <div class="stat-grid" id="user-stats"></div>
    <h2>Recently Added Products</h2>
    <div class="product-grid" id="user-product-preview"></div>
  </div>
</div>

<div id="screen-guest-list" class="screen">
  <nav class="topnav">
    <div class="logo">Event<span>MS</span></div>
    <div class="nav-actions">
      <button class="btn-nav" onclick="navigate('screen-user-portal')">ğŸ  Home</button>
      <button class="btn-ghost" onclick="logout()">Log Out</button>
    </div>
  </nav>
  <div class="page-body">
    <h1>Guest List</h1>
    <p class="subtext">Manage your event invitees and their status.</p>
    
    <div class="card">
      <h3>Add New Guest</h3>
      <div class="grid-2">
        <div class="form-group"><label>Name</label><input class="form-control" id="guest-name" placeholder="Guest Name"></div>
        <div class="form-group"><label>Contact</label><input class="form-control" id="guest-contact" placeholder="Contact / Email"></div>
      </div>
      <button class="btn btn-primary" onclick="addGuest()">+ Add to List</button>
    </div>

    <h3 style="margin-top:24px">My Guests</h3>
    <div id="guest-list-container"></div>
  </div>
</div>

<div id="screen-products" class="screen">
  <nav class="topnav">
    <div class="logo">Event<span>MS</span></div>
    <div class="nav-actions">
      <button class="btn-nav" onclick="navigate('screen-user-portal')">ğŸ  Home</button>
      <button class="btn-nav" onclick="showCart()">ğŸ›’ Cart <span id="cart-badge2" style="background:var(--accent);color:#fff;border-radius:10px;padding:1px 7px;font-size:.75rem"></span></button>
      <button class="btn-ghost" onclick="logout()">Log Out</button>
    </div>
  </nav>
  <div class="page-body wide">
    <h1>Browse Products</h1>
    <p class="subtext">Select items from our verified vendors for your event.</p>

    <div class="tabs" id="vendor-tabs">
      <button class="tab-btn active" onclick="filterVendor(null,this)">All Vendors</button>
    </div>

    <div class="search-bar">
      <span class="search-icon">ğŸ”</span>
      <input placeholder="Search products..." id="product-search" oninput="renderProductsGrid()">
    </div>

    <div class="product-grid" id="products-grid"></div>
  </div>
</div>

<div id="screen-cart" class="screen">
  <nav class="topnav">
    <div class="logo">Event<span>MS</span></div>
    <div class="nav-actions">
      <button class="btn-nav" onclick="navigate('screen-products')">â† Continue Shopping</button>
      <button class="btn-ghost" onclick="logout()">Log Out</button>
    </div>
  </nav>
  <div class="page-body">
    <h1>Shopping Cart</h1>
    <p class="subtext">Review your selected items before checkout.</p>
    <div id="cart-items-container"></div>
    <div class="card" id="cart-footer" style="display:none">
      <div class="cart-total-row">
        <div><div class="cart-total-label">Grand Total</div><div class="cart-total-value" id="cart-grand-total"></div></div>
        <button class="btn btn-primary" onclick="navigate('screen-checkout'); renderCheckout()">Proceed to Checkout â†’</button>
      </div>
    </div>
  </div>
</div>

<div id="screen-checkout" class="screen">
  <nav class="topnav">
    <div class="logo">Event<span>MS</span></div>
    <div class="nav-actions"><button class="btn-nav" onclick="navigate('screen-cart'); renderCart()">â† Back to Cart</button></div>
  </nav>
  <div class="page-body">
    <h1>Checkout</h1>
    <p class="subtext">Fill in your delivery details and choose a payment method.</p>
    <div class="checkout-grid">
      <div>
        <div class="card">
          <h3>Delivery Details</h3>
          <div id="checkout-err" class="alert alert-error" style="display:none"></div>
          <div class="form-group"><label>Full Name</label><input class="form-control" id="co-name" placeholder="Your full name"></div>
          <div class="form-group"><label>Email</label><input class="form-control" id="co-email" type="email" placeholder="email@example.com"></div>
          <div class="form-group"><label>Address</label><textarea class="form-control" id="co-address" placeholder="Full delivery address"></textarea></div>
          <div class="form-group"><label>City</label><input class="form-control" id="co-city" placeholder="City"></div>
          <div class="form-group"><label>Phone</label><input class="form-control" id="co-phone" placeholder="10-digit number"></div>
        </div>
        <div class="card">
          <h3>Payment Method</h3>
          <select class="form-control" id="co-payment">
            <option value="upi">ğŸ’³ UPI / QR Code</option>
            <option value="cash">ğŸ’µ Cash on Delivery</option>
          </select>
        </div>
      </div>
      <div>
        <div class="card">
          <h3>Order Summary</h3>
          <div id="checkout-summary"></div>
          <button class="btn btn-success btn-full" style="margin-top:18px" onclick="placeOrder()">âœ“ Place Order</button>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="screen-order-status" class="screen">
  <nav class="topnav">
    <div class="logo">Event<span>MS</span></div>
    <div class="nav-actions">
      <button class="btn-nav" onclick="navigate('screen-user-portal')">ğŸ  Home</button>
      <button class="btn-ghost" onclick="logout()">Log Out</button>
    </div>
  </nav>
  <div class="page-body">
    <h1>My Orders</h1>
    <p class="subtext">Track the status of your event orders.</p>
    <div id="order-status-list"></div>
  </div>
</div>

<div id="screen-request-item" class="screen">
  <nav class="topnav">
    <div class="logo">Event<span>MS</span></div>
    <div class="nav-actions">
      <button class="btn-nav" onclick="navigate('screen-user-portal')">ğŸ  Home</button>
      <button class="btn-ghost" onclick="logout()">Log Out</button>
    </div>
  </nav>
  <div class="page-body">
    <h1>Request an Item</h1>
    <p class="subtext">Can't find what you need? Submit a request and a vendor will fulfil it.</p>
    <div class="card">
      <div id="req-ok" class="alert alert-success" style="display:none">Request submitted successfully!</div>
      <div class="form-group"><label>Item Name</label><input class="form-control" id="req-name" placeholder="What item do you need?"></div>
      <div class="form-group"><label>Description</label><textarea class="form-control" id="req-desc" placeholder="Describe the item, quantity, specifications..."></textarea></div>
      <div class="form-group"><label>Preferred Vendor (Optional)</label>
        <select class="form-control" id="req-vendor">
          <option value="">Any vendor</option>
        </select>
      </div>
      <div class="form-group"><label>Required By</label><input class="form-control" type="date" id="req-date"></div>
      <button class="btn btn-primary" onclick="submitRequest()">Submit Request</button>
    </div>
    <h2 style="margin-top:32px">My Requests</h2>
    <div id="my-requests-list"></div>
  </div>
</div>

<div id="screen-vendor-dash" class="screen">
  <nav class="topnav">
    <div class="logo">Event<span>MS</span></div>
    <div class="nav-actions">
      <button class="btn-nav" onclick="navigate('screen-vendor-dash')">ğŸ  Home</button>
      <button class="btn-nav" onclick="navigate('screen-vendor-products')">ğŸ“¦ Products</button>
      <button class="btn-nav" onclick="navigate('screen-vendor-orders')">ğŸ§¾ Orders</button>
      <button class="btn-ghost" onclick="logout()">Log Out</button>
    </div>
  </nav>
  <div class="page-body">
    <h1 id="vendor-welcome">Welcome Back!</h1>
    <p class="subtext">Manage your product listings and incoming orders.</p>
    <div class="stat-grid" id="vendor-stats"></div>
    <div class="btn-group">
      <button class="btn btn-primary" onclick="navigate('screen-add-product')">+ Add New Product</button>
      <button class="btn btn-secondary" onclick="navigate('screen-vendor-orders')">View Orders</button>
    </div>
  </div>
</div>

<div id="screen-vendor-products" class="screen">
  <nav class="topnav">
    <div class="logo">Event<span>MS</span></div>
    <div class="nav-actions">
      <button class="btn-nav" onclick="navigate('screen-vendor-dash')">ğŸ  Home</button>
      <button class="btn-ghost" onclick="logout()">Log Out</button>
    </div>
  </nav>
  <div class="page-body">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:24px">
      <div><h1>Your Products</h1><p class="subtext" style="margin:0">Manage your item listings</p></div>
      <button class="btn btn-primary" onclick="navigate('screen-add-product')">+ Add Product</button>
    </div>
    <div id="vendor-product-list"></div>
  </div>
</div>

<div id="screen-add-product" class="screen">
  <nav class="topnav">
    <div class="logo">Event<span>MS</span></div>
    <div class="nav-actions"><button class="btn-nav" onclick="navigate('screen-vendor-products'); fetchVendorProducts()">â† Products</button></div>
  </nav>
  <div class="page-body">
    <h1 id="add-prod-title">Add New Product</h1>
    <p class="subtext">Fill in the details to list your product.</p>
    <div class="card" style="max-width:560px">
      <input type="hidden" id="edit-product-id">
      <div id="add-prod-err" class="alert alert-error" style="display:none"></div>
      <div class="form-group"><label>Product Name</label><input class="form-control" id="ap-name" placeholder="e.g. LED Stage Lights 200W"></div>
      <div class="form-group"><label>Price (â‚¹)</label><input class="form-control" id="ap-price" type="number" placeholder="0"></div>
      <div class="form-group"><label>Category</label>
        <select class="form-control" id="ap-category">
          <option>Lighting</option><option>Audio</option><option>Decor</option><option>Entertainment</option><option>Catering</option><option>Other</option>
        </select>
      </div>
      <div class="form-group"><label>Product Emoji / Icon</label><input class="form-control" id="ap-image" placeholder="Paste an emoji e.g. ğŸ™ï¸"></div>
      <div class="btn-group">
        <button class="btn btn-primary" onclick="saveProduct()">Save Product</button>
        <button class="btn btn-secondary" onclick="navigate('screen-vendor-products'); fetchVendorProducts()">Cancel</button>
      </div>
    </div>
  </div>
</div>

<div id="screen-vendor-orders" class="screen">
  <nav class="topnav">
    <div class="logo">Event<span>MS</span></div>
    <div class="nav-actions">
      <button class="btn-nav" onclick="navigate('screen-vendor-dash')">ğŸ  Home</button>
      <button class="btn-ghost" onclick="logout()">Log Out</button>
    </div>
  </nav>
  <div class="page-body wide">
    <h1>Orders</h1>
    <p class="subtext">Update the status of incoming orders.</p>
    <div id="vendor-orders-table"></div>
  </div>
</div>

<div id="screen-admin-dash" class="screen">
  <nav class="topnav">
    <div class="logo">Event<span>MS</span></div>
    <div class="nav-actions">
      <button class="btn-nav" onclick="navigate('screen-admin-dash')">ğŸ  Home</button>
      <button class="btn-nav" onclick="navigate('screen-maintain-users')">ğŸ‘¥ Users</button>
      <button class="btn-nav" onclick="navigate('screen-maintain-vendors')">ğŸª Vendors</button>
      <button class="btn-nav" onclick="navigate('screen-admin-orders')">ğŸ“¦ Orders</button>
      <button class="btn-ghost" onclick="logout()">Log Out</button>
    </div>
  </nav>
  <div class="page-body">
    <h1>Admin Dashboard</h1>
    <p class="subtext">System overview and management controls.</p>
    <div class="stat-grid" id="admin-stats"></div>
    <div class="grid-2">
      <div class="card" style="cursor:pointer" onclick="navigate('screen-maintain-users')">
        <h3>ğŸ‘¥ Manage Users</h3>
        <p style="color:var(--text-dim);font-size:.9rem;margin-top:6px">View, edit or disable user accounts</p>
      </div>
      <div class="card" style="cursor:pointer" onclick="navigate('screen-maintain-vendors')">
        <h3>ğŸª Manage Vendors</h3>
        <p style="color:var(--text-dim);font-size:.9rem;margin-top:6px">Approve, edit or remove vendor accounts</p>
      </div>
    </div>
  </div>
</div>

<div id="screen-maintain-users" class="screen">
  <nav class="topnav">
    <div class="logo">Event<span>MS</span></div>
    <div class="nav-actions">
      <button class="btn-nav" onclick="navigate('screen-admin-dash')">ğŸ  Home</button>
      <button class="btn-ghost" onclick="logout()">Log Out</button>
    </div>
  </nav>
  <div class="page-body wide">
    <h1>Manage Users</h1>
    <p class="subtext">View and control all user accounts in the system.</p>
    <div class="table-wrapper" id="users-table"></div>
  </div>
</div>

<div id="screen-maintain-vendors" class="screen">
  <nav class="topnav">
    <div class="logo">Event<span>MS</span></div>
    <div class="nav-actions">
      <button class="btn-nav" onclick="navigate('screen-admin-dash')">ğŸ  Home</button>
      <button class="btn-ghost" onclick="logout()">Log Out</button>
    </div>
  </nav>
  <div class="page-body wide">
    <h1>Manage Vendors</h1>
    <p class="subtext">Review and manage all vendor accounts.</p>
    <div class="table-wrapper" id="vendors-table"></div>
  </div>
</div>

<div id="screen-admin-orders" class="screen">
  <nav class="topnav">
    <div class="logo">Event<span>MS</span></div>
    <div class="nav-actions">
      <button class="btn-nav" onclick="navigate('screen-admin-dash')">ğŸ  Home</button>
      <button class="btn-ghost" onclick="logout()">Log Out</button>
    </div>
  </nav>
  <div class="page-body wide">
    <h1>All Orders</h1>
    <p class="subtext">System-wide order overview.</p>
    <div class="table-wrapper" id="admin-orders-table"></div>
  </div>
</div>

<div id="success-popup" class="popup-overlay" style="display:none">
  <div class="popup-box">
    <div class="popup-icon">ğŸ‰</div>
    <h2>Order Placed!</h2>
    <p style="color:var(--text-dim);margin:12px 0 24px">Your order has been received. We'll keep you updated on the status.</p>
    <div style="margin-bottom:14px"><div id="popup-total" style="font-family:'Syne',sans-serif;font-size:2rem;font-weight:800"></div><div style="color:var(--text-dim);font-size:.85rem">Total Amount</div></div>
    <button class="btn btn-primary" onclick="closeSuccess()">Track My Order â†’</button>
  </div>
</div>

<script src="script.js"></script>
</body>
</html>